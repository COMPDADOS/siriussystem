<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

use Illuminate\Support\Facades\Http;


use Auth;

class ctrClickSign extends Controller
{

    protected $url = "https://api.clicksign.com/";
    protected $accessToken = 'cf0ed212-af20-448a-8ab8-3fc805c97a58';
    protected $timeout = 240;
    protected $version = "v1";
    protected $proxy = null;
    public function teste()
    {
        
        $token ='cf0ed212-af20-448a-8ab8-3fc805c97a58';

        $host='sandbox.clicksign.com';
        $curl = curl_init();
        $endp = $host.'/api/v1/accounts?access_token='.$token. ' HTTP/1.1';
        curl_setopt($curl, CURLOPT_URL, $endp);
        curl_setopt($curl, CURLOPT_CUSTOMREQUEST,'POST');
        // curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0);
        curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true);
        $header = array();
        $header[] = 'Content-Type: application/json';
        $header[] = 'Accept: application/json';
        curl_setopt($curl, CURLOPT_HTTPHEADER, $header);
        $resp = curl_exec($curl);
        //
        if (curl_errno($curl)) {
        $error_msg = curl_error($curl);
        var_dump($error_msg);
        }
        var_dump($resp);
        $response = curl_getinfo($curl, CURLINFO_HTTP_CODE);
        var_dump($response);
        curl_close($curl);

    }

    public function uploadFile( Request $request )
    {
       
        $filename='click/teste.docx';
        $filebase64 = app('App\Http\Controllers\ctrImagem')->fileToBase64( $filename);
        $filenamenoclick = "teste.docx";

        $fileintoserver = '/'.$filenamenoclick;

      
        $array = 
        [   
            "document" => 
            [
                "path" => '/teste.docx',
                "content_base64" => 'data:application/msword;base64,'.$filebase64,
                "deadline_at" => '2022-12-31T14:30:59-03:00',
                "auto_close" => true,
                "locale" => 'pt-BR',
                "sequence_enabled" => false,
                "block_after_refusal" => true

            ]

        ];


        $body = json_encode($array);

        $body ='{
            "document": {
              "path": "/Contrato de Prestação de Serviços-123.pdf",
              "content_base64": "data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,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",
              "deadline_at": "2022-01-08T14:30:59-03:00",
              "auto_close": true,
              "locale": "pt-BR",
              "sequence_enabled": false,
              "block_after_refusal": true
            }
          }';

        
          
         // $host = $this->url . $this->version . "?access_token=" . $this->accessToken;
      
        $curl = curl_init();
        $endp = 'sandbox.clicksign.com/api/v1/documents?access_token='.$this->accessToken;
        curl_setopt($curl, CURLOPT_URL, $endp);
        curl_setopt($curl , CURLOPT_POST, true);        
        curl_setopt($curl , CURLOPT_POSTFIELDS, $body);        
        $header = array();
        $header[] = 'Content-Type: application/json';
        $header[] = 'Accept: application/json';
        curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($curl, CURLOPT_USERAGENT, "Clicksign/PHP");
        curl_setopt($curl, CURLOPT_TIMEOUT, $this->timeout);
        curl_setopt($curl, CURLOPT_HEADER, true);
        curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true);
        curl_setopt($curl, CURLOPT_HTTPHEADER, $header);
        //curl_setopt($curl, CURLOPT_URL, $url);
        curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, 0);
        curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, 0);
        curl_setopt($curl, CURLOPT_PROXY, $this->proxy);
     
        $resp = curl_exec($curl);
        //
        if (curl_errno($curl)) {
        $error_msg = curl_error($curl);
        var_dump($error_msg);
        }
        var_dump($resp);
        $response = curl_getinfo($curl, CURLINFO_HTTP_CODE);
        var_dump($response);
        curl_close($curl);


    }
    
    public function telaTestes( Request $request )
    {
        return view('clicksign.teste');
    }   


}
